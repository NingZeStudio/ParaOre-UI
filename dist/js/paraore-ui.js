// ParaOre-UI Bundle
var ht=Object.defineProperty;var o=(a,l)=>ht(a,"name",{value:l,configurable:!0});window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("no-dark-mode");var x=!1;function ut(a,l){if(!x)switch(x=!0,a){case"direct":window.location.href=l;break;case"open":setTimeout(()=>{window.open(l),setTimeout(()=>{x=!1},100)},100);break;case"jump":setTimeout(()=>{window.location.href=l,setTimeout(()=>{x=!1},100)},600);break}}o(ut,"ifNavigating");function ft(a){ut("open",a)}o(ft,"openLink");function wt(a){window.location.assign(a)}o(wt,"launchApplication");function H(a,l){let t=0;return((...i)=>{let e=new Date().getTime();if(!(e-t<l))return t=e,a(...i)})}o(H,"throttle");function nt(a){a._scrollHideTimeout&&clearTimeout(a._scrollHideTimeout),a.style.opacity="1",a._scrollHideTimeout=window.setTimeout(()=>{a.style.opacity="0"},3e3)}o(nt,"showScroll");function ot(a,l,t,i){let e=t.scrollHeight,n=l.getBoundingClientRect().height;if(Math.round(e)<=Math.round(n)){i.style.display="none";return}else i.style.display="block";let r=Math.max(n/e*n,35),u=e-n,c=Math.round(l.scrollTop),h,p;t.classList.contains("main_with_tab_bar")&&(i.style.top="100px"),i.classList.contains("primary_custom_scrollbar")?p=n-(r+4):p=n-r,u>0&&p>0?(h=c/u*p,h=Math.max(0,Math.min(h,p))):h=0,a.style.height=`${r}px`,a.style.top=`${h}px`,i.style.height=`${n}px`}o(ot,"updateThumb");function gt(a,l,t,i,e,n){if(l||t.classList.contains("secondary_custom_scrollbar"))return;let{top:r,height:u}=t.getBoundingClientRect(),h=a.clientY-r,p=i.offsetHeight,m=e.getBoundingClientRect().height,w=n.scrollHeight-m;if(w<=0)return;let E=i.offsetTop;if(h<E||h>E+p){let L=u-(p+4);if(L<=0)return;let f=h-p/2;f=Math.max(0,Math.min(f,L));let _=f/L*w;e.scrollTop=Math.round(_)}}o(gt,"handleScrollbarClick");function lt(a,l,t,i){!a||!l||(nt(a),requestAnimationFrame(()=>{ot(l,t,i,a)}))}o(lt,"handleScroll");function pt(a,l,t,i,e,n){if(!l.isDragging||n.classList.contains("secondary_custom_scrollbar"))return;let u=("clientY"in a?a.clientY:a.touches[0].clientY)-l.startY,c=i.getBoundingClientRect().height,h=t.offsetHeight,p=c-h,m=Math.min(Math.max(l.initialThumbTop+u,0),p),b=e.scrollHeight-c;i.scrollTo({top:m/p*b,behavior:"instant"}),ot(t,i,e,n)}o(pt,"handlePointerMove");function st(a,l,t,i,e,n){e.isDragging=!0,e.startY="clientY"in a?a.clientY:a.touches[0].clientY,e.initialThumbTop=l.getBoundingClientRect().top-t.getBoundingClientRect().top;let r=o(c=>pt(c,e,l,t,i,n),"handlePointerMoveBound");document.addEventListener("pointermove",r),document.addEventListener("touchmove",r);let u=o(()=>{e.isDragging=!1,document.removeEventListener("pointermove",r),document.removeEventListener("touchmove",r)},"handlePointerUp");document.addEventListener("pointerup",u,{once:!0}),document.addEventListener("touchend",u,{once:!0})}o(st,"handlePointerDown");function vt(a,l,t,i){let e={isDragging:!1,startY:0,initialThumbTop:0},n=H(()=>{lt(t,i,a,l)},1),r=H(()=>{nt(t)},100);a.addEventListener("wheel",()=>{n()},{passive:!0}),t.addEventListener("wheel",u=>{let c=u.deltaY>0?10:-10;a.scrollTop+=c,n(),u.preventDefault()}),document.addEventListener("mousemove",r),document.addEventListener("touchmove",r),a.addEventListener("scroll",n),window.addEventListener("resize",n),i.addEventListener("pointerdown",u=>st(u,i,a,l,e,t)),i.addEventListener("touchstart",u=>st(u,i,a,l,e,t)),t.addEventListener("click",u=>gt(u,e.isDragging,t,i,a,l)),window.addEventListener("load",()=>setTimeout(n,10))}o(vt,"bindScrollEvents");function mt(){document.querySelectorAll(".primary_scroll_container, .secondary_scroll_container").forEach(l=>{let t=l.querySelector(".scroll_container, .sidebar_content"),e=t?.closest("scroll-view")?.querySelector("custom-scrollbar"),n=e?.querySelector("custom-scrollbar-thumb");if(t&&e&&n){vt(l,t,e,n);let r=at(e,n,l,t),u=H(r,1),c=new ResizeObserver(()=>{u()});c.observe(l),c.observe(t)}})}o(mt,"initializeScrollContainers");function at(a,l,t,i){return()=>{lt(a,l,t,i)}}o(at,"createHandleScroll");document.addEventListener("DOMContentLoaded",()=>{mt()});var A=document.querySelector(".primary_scroll_container");function V(){let a=document.querySelector(".scroll_container")?.closest("scroll-view"),l=a?.querySelector("custom-scrollbar"),t=a?.querySelector("custom-scrollbar-thumb");return A&&l&&t?H(at(l,t,A,document.querySelector(".scroll_container")),1):()=>{}}o(V,"getMainHandleScroll");typeof window<"u"&&(window.mainScrollContainer=A,window.mainHandleScroll=V());function yt(){window.mainScrollContainer&&window.mainScrollContainer.scrollTo({top:0,behavior:"smooth"})}o(yt,"scrollToTop");function Tt(){window.mainScrollContainer&&window.mainScrollContainer.scrollTo({top:0,behavior:"instant"})}o(Tt,"toTop");var _CustomButton=class _CustomButton extends HTMLElement{constructor(){super();this.status="normal";this.icon="";this.render()}static get observedAttributes(){return["data","js","text"]}attributeChangedCallback(){this.render(),setTimeout(()=>window.updateFocusableElements?.(),10)}render(){let data=this.getAttribute("data")||"",[type,status,size,id,isTip,tip,icon]=data.split("|").map(l=>l.trim());this.status=status||"normal",this.icon=icon||"";let ctype=type||"default",csize=size||"middle",cid=id||"",cisTip=isTip==="true",ctip=tip||"",js=this.getAttribute("js")||"false",text=this.getAttribute("text")||"";ctype==="default"?cisTip?this.innerHTML=`
          <div class="btn_with_tooltip_cont">
            <button class="btn ${csize}_btn ${status}_btn" id="${cid}">${text}</button>
            <div class="btn_tooltip">${ctip}</div>
            <div class="tip_icon" style="background-image: url('images/${icon}.png')"></div>
          </div>
        `:this.innerHTML=`<button class="btn ${csize}_btn ${status}_btn" id="${cid}">${text}</button>`:(this.classList.add(ctype+"_custom_btn"),this.innerHTML=`<button class="btn ${status}_btn ${ctype}_btn" id="${cid}">${text}</button>`);let button=this.querySelector("button");button&&(button.addEventListener("click",()=>{let l=new CustomEvent("button-click",{bubbles:!0,cancelable:!0});this.dispatchEvent(l)}),this.status!=="disabled"&&js!=="false"&&button.addEventListener("click",()=>{try{eval(js)}catch{}}))}};o(_CustomButton,"CustomButton");var D=_CustomButton;customElements.define("custom-button",D);var F=class F extends HTMLElement{constructor(){super();this.beforeToggle=null;this.isCheckboxOn=!1;this.isCheckboxDisabled=!1;this.render()}static get observedAttributes(){return["status","active"]}connectedCallback(){this.restoreState()}attributeChangedCallback(){this.updateRender(),setTimeout(()=>window.updateFocusableElements?.(),10)}render(){let t=this.getAttribute("status")||"disabled";this.isCheckboxDisabled=t!=="enabled",this.isCheckboxOn=this.getCheckboxValue()==="on",this.innerHTML=`
      <div class="switch_content">
        <div class="switch ${this.isCheckboxOn?"on":"off"} ${this.isCheckboxDisabled?"disabled_switch":"normal_switch"}">
          <div class="switch_style left"></div>
          <div class="switch_style right"></div>
          <div class="switch_slider"></div>
        </div>
      </div>
    `,this.bindEvents()}updateRender(){this.isCheckboxOn=this.getCheckboxValue()==="on",this.isCheckboxDisabled=this.getAttribute("status")!=="enabled";let t=this.querySelector(".switch");t&&(t.classList.toggle("on",this.isCheckboxOn),t.classList.toggle("off",!this.isCheckboxOn),t.classList.toggle("disabled_switch",this.isCheckboxDisabled),t.classList.toggle("normal_switch",!this.isCheckboxDisabled))}shouldAllowToggle(){return typeof this.beforeToggle=="function"&&!this.beforeToggle(this)?(this.dispatchEvent(new CustomEvent("checkbox-toggle-blocked",{bubbles:!0,detail:{checkboxId:this.id}})),!1):!0}bindEvents(){let t=this.querySelector(".switch"),i=this.querySelector(".switch_slider");if(!this.isCheckboxDisabled&&t&&i){let e=o(()=>{this.shouldAllowToggle()&&(this.isCheckboxOn=!this.isCheckboxOn,this.updateCheckboxState(this.isCheckboxOn))},"handleClick");t.addEventListener("click",e)}}updateCheckboxState(t){this.setAttribute("active",t?"on":"off");let i=this.querySelector(".switch"),e=this.querySelector(".switch_slider");i?.classList.toggle("on",t),i?.classList.toggle("off",!t);let n=JSON.parse(localStorage.getItem("checkbox_value")||"{}");n[this.id]=t?"on":"off",localStorage.setItem("checkbox_value",JSON.stringify(n)),e&&(t?(e.classList.add("switch_bounce_left"),e.classList.remove("switch_bounce_right")):(e.classList.add("switch_bounce_right"),e.classList.remove("switch_bounce_left")),setTimeout(()=>{e.classList.remove("switch_bounce_left"),e.classList.remove("switch_bounce_right")},350)),this.updateRender();let r=new CustomEvent("checkbox-click",{bubbles:!0,cancelable:!0});this.dispatchEvent(r)}getCheckboxValue(){let t=JSON.parse(localStorage.getItem("checkbox_value")||"{}");return this.id in t?t[this.id]:this.getAttribute("active")||"off"}restoreState(){let t=this.getCheckboxValue();this.isCheckboxOn=t==="on"}};o(F,"CustomCheckbox");var O=F;customElements.define("custom-checkbox",O);var I=class I extends HTMLElement{constructor(){super();this.beforeToggle=null;this.isRadioOn=!1;this.isRadioDisabled=!1;this.radioGroup="";this.render()}static get observedAttributes(){return["status","active","name"]}connectedCallback(){this.restoreState()}attributeChangedCallback(){this.updateRender(),setTimeout(()=>window.updateFocusableElements?.(),10)}render(){let t=this.getAttribute("status")||"disabled",i=this.getAttribute("name")||"";this.isRadioDisabled=t!=="enabled",this.isRadioOn=this.getAttribute("active")==="on",this.radioGroup=i,this.innerHTML=`
      <div class="switch_content">
        <div class="switch ${this.isRadioOn?"on":"off"} ${this.isRadioDisabled?"disabled_switch":"normal_switch"}">
          <div class="switch_style left"></div>
          <div class="switch_style right"></div>
          <div class="switch_slider"></div>
        </div>
      </div>
    `,this.bindEvents()}updateRender(){this.isRadioOn=this.getAttribute("active")==="on",this.isRadioDisabled=this.getAttribute("status")!=="enabled";let t=this.querySelector(".switch");t&&(t.classList.toggle("on",this.isRadioOn),t.classList.toggle("off",!this.isRadioOn),t.classList.toggle("disabled_switch",this.isRadioDisabled),t.classList.toggle("normal_switch",!this.isRadioDisabled))}shouldAllowToggle(){return typeof this.beforeToggle=="function"&&!this.beforeToggle(this)?(this.dispatchEvent(new CustomEvent("radio-toggle-blocked",{bubbles:!0,detail:{radioId:this.id}})),!1):!0}bindEvents(){let t=this.querySelector(".switch"),i=this.querySelector(".switch_slider");if(!this.isRadioDisabled&&t&&i){let e=o(()=>{this.shouldAllowToggle()&&(this.radioGroup&&document.querySelectorAll(`custom-radio[name="${this.radioGroup}"]`).forEach(r=>{if(r!==this){r.setAttribute("active","off"),r.isRadioOn=!1,r.updateRender();let u=JSON.parse(localStorage.getItem("radio_value")||"{}");u[r.id]="off",localStorage.setItem("radio_value",JSON.stringify(u))}}),this.isRadioOn=!0,this.updateRadioState(this.isRadioOn))},"handleClick");t.addEventListener("click",e)}}updateRadioState(t){this.setAttribute("active",t?"on":"off");let i=this.querySelector(".switch"),e=this.querySelector(".switch_slider");i?.classList.toggle("on",t),i?.classList.toggle("off",!t);let n=JSON.parse(localStorage.getItem("radio_value")||"{}");n[this.id]=t?"on":"off",localStorage.setItem("radio_value",JSON.stringify(n)),e&&(t?(e.classList.add("switch_bounce_left"),e.classList.remove("switch_bounce_right")):(e.classList.add("switch_bounce_right"),e.classList.remove("switch_bounce_left")),setTimeout(()=>{e.classList.remove("switch_bounce_left"),e.classList.remove("switch_bounce_right")},350)),this.updateRender();let r=new CustomEvent("radio-click",{bubbles:!0,cancelable:!0});this.dispatchEvent(r)}getRadioValue(){let t=JSON.parse(localStorage.getItem("radio_value")||"{}");return this.id in t?t[this.id]:this.getAttribute("active")||"off"}restoreState(){let t=this.getRadioValue();this.isRadioOn=t==="on",t==="on"?this.setAttribute("active","on"):this.setAttribute("active","off")}};o(I,"CustomRadio");var R=I;customElements.define("custom-radio",R);var q=class q extends HTMLElement{constructor(){super();this.isOpen=!1;this.isPersistent=!1;this.overlay=null;this.resizeHandler=this.handleResize.bind(this)}static get observedAttributes(){return["open","persistent"]}connectedCallback(){this.checkPersistent(),this.render(),this.createOverlay(),this.init(),window.addEventListener("resize",this.resizeHandler)}disconnectedCallback(){window.removeEventListener("resize",this.resizeHandler)}attributeChangedCallback(t,i,e){t==="open"?this.updateState():t==="persistent"&&this.checkPersistent()}render(){let t=this.querySelector("#btn_close_sidebar");t&&t.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.close()})}createOverlay(){let t=document.getElementById("sidebar-overlay");t||(t=document.createElement("div"),t.id="sidebar-overlay",t.className="sidebar-overlay",t.addEventListener("click",()=>this.close()),document.body.appendChild(t)),this.overlay=t}checkPersistent(){this.isPersistent=window.innerWidth>=1200,this.isPersistent?this.setAttribute("persistent",""):this.removeAttribute("persistent")}init(){this.removeAttribute("open"),this.updateState()}handleResize(){this.checkPersistent(),this.updateState()}updateState(){let t=this.hasAttribute("open");this.isOpen=t,t?(this.classList.remove("closed"),this.classList.add("open"),!this.isPersistent&&this.overlay&&(this.overlay.classList.add("visible"),document.body.style.overflow="hidden")):(this.classList.add("closed"),this.classList.remove("open"),this.overlay&&(this.overlay.classList.remove("visible"),document.body.style.overflow="")),this.updateMainScrollView(),this.saveState()}updateMainScrollView(){let t=document.querySelector(".main_scroll_view");t&&(this.isOpen?t.classList.add("with_sidebar"):t.classList.remove("with_sidebar"))}open(){this.setAttribute("open",""),this.dispatchEvent(new CustomEvent("sidebar-open",{bubbles:!0}))}close(){this.removeAttribute("open"),this.dispatchEvent(new CustomEvent("sidebar-close",{bubbles:!0}))}toggle(){this.isOpen?this.close():this.open()}saveState(){this.isPersistent||localStorage.setItem("sidebar_open",this.isOpen.toString())}};o(q,"DisplaySidebar");var $=q;customElements.define("display-sidebar",$);var P=class P extends HTMLElement{constructor(){super();this.margin=6;this.optionsData=[];this.selectedValue=null;this.label=null;this.arrow=null;this.dropdownOptions=null;this.storageKey="";this.optionsData=JSON.parse(this.getAttribute("data-option")||"[]"),this.selectedValue=this.getAttribute("data-selected")||null,this.label=document.createElement("div"),this.label.classList.add("dropdown_label"),this.appendChild(this.label),this.arrow=document.createElement("div"),this.arrow.classList.add("dropdown_arrow"),this.appendChild(this.arrow),this.dropdownOptions=document.createElement("div"),this.dropdownOptions.classList.add("dropdown_options"),this.appendChild(this.dropdownOptions),this.optionsData.forEach((i,e)=>{let n=document.createElement("div");n.classList.add("dropdown_option"),n.setAttribute("data-value",(e+1).toString()),n.innerHTML=`${i} <div class="dropdown_checkmark"></div>`,n.addEventListener("click",()=>this.selectOption(n)),this.dropdownOptions?.appendChild(n)}),this.storageKey="dropdown_value";let t=this.getStoredDropdownData();this.selectedValue=t[this.id]||this.selectedValue,this.addEventListener("click",()=>this.toggleOptions()),this.updateLabel(),this.renderOptions(),document.addEventListener("mousedown",i=>this.handleOutsideClick(i)),document.addEventListener("touchstart",i=>this.handleOutsideClick(i))}static get observedAttributes(){return["status"]}attributeChangedCallback(t,i,e){t==="status"&&this.label&&this.arrow&&(this.label.classList.toggle("disabled_dropdown",e==="disabled"),this.arrow.classList.toggle("disabled_dropdown_arrow",e==="disabled")),setTimeout(()=>window.updateFocusableElements?.(),10)}getStoredDropdownData(){let t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}saveDropdownData(t){localStorage.setItem(this.storageKey,JSON.stringify(t))}toggleOptions(){if(this.getAttribute("status")==="disabled"||!this.dropdownOptions)return;let t=this.dropdownOptions.style.display==="block";this.dropdownOptions.style.display=t?"none":"block";let i=this.closest(".dropdown_container");i&&this.label&&(i.style.height=t?`${this.label.offsetHeight+this.margin}px`:`${this.dropdownOptions?.scrollHeight+this.margin}px`),window.mainHandleScroll&&window.mainHandleScroll()}selectOption(t){if(this.getAttribute("status")==="disabled")return;let i=t.getAttribute("data-value");if(this.selectedValue!==i){this.selectedValue=i,this.updateLabel(),this.renderOptions();let e=this.getStoredDropdownData();e[this.id]=this.selectedValue||"",this.saveDropdownData(e)}}updateLabel(){if(!this.label)return;let t=this.selectedValue?parseInt(this.selectedValue)-1:0;this.label.innerHTML=this.optionsData[t]||this.getAttribute("unselected-text")||"\u9009\u62E9\u4E00\u4E2A\u9009\u9879";let i=new CustomEvent("dropdown-value-change",{bubbles:!0,cancelable:!0,detail:{value:this.selectedValue}});this.dispatchEvent(i)}renderOptions(){this.dropdownOptions&&this.dropdownOptions.querySelectorAll(".dropdown_option").forEach(t=>{let i=t.getAttribute("data-value")===this.selectedValue;t.classList.toggle("selected",i)})}handleOutsideClick(t){if(this.dropdownOptions?.style.display==="block"&&!this.contains(t.target)){this.dropdownOptions&&(this.dropdownOptions.style.display="none");let e=this.closest(".dropdown_container");e&&this.label&&(e.style.height=`${this.label.offsetHeight+this.margin}px`),window.mainHandleScroll&&window.mainHandleScroll()}}};o(P,"CustomDropdown");var N=P;customElements.define("custom-dropdown",N);function Rt(a){let l=document.getElementById("overlay_"+a),t=document.getElementById(a);!l||!t||(l.style.display="block",t.style.display="block",t.focus())}o(Rt,"showModal");function It(a){let l=null;if(a instanceof HTMLElement){let e=a.parentElement;for(;e;){if(e.tagName?.toLowerCase()==="modal_area"){l=e.id;break}e=e.parentElement}if(!l)return}else if(typeof a=="string")l=a;else return;let t=document.getElementById("overlay_"+l),i=document.getElementById(l);!t||!i||(t.style.display="none",i.style.display="none")}o(It,"hideModal");var J=class J extends HTMLElement{constructor(){super();this.isFirstRender=!0}static get observedAttributes(){return["status"]}connectedCallback(){this.isFirstRender&&(this.render(),this.isFirstRender=!1)}attributeChangedCallback(){this.isFirstRender||(this.render(),setTimeout(()=>window.updateFocusableElements?.(),10))}render(){this.innerHTML=`
      <div class="slider_area">
        <div>Selected: <span class="slider_tooltip">0.00</span></div>
        <div class="slider_content">
          <div class="slider">
            <div class="slider_process"></div>
            <div class="slider_slider"></div>
            <div class="slider_segment" style="display: none"></div>
          </div>
        </div>
      </div>
    `;let t=this.querySelector(".slider_content"),i=this.querySelector(".slider_tooltip"),e=this.querySelector(".slider"),n=this.querySelector(".slider_process"),r=this.querySelector(".slider_slider"),u=JSON.parse(this.getAttribute("data-slider")||"{}"),c=u.minValue||0,h=u.maxValue||100,p=u.segments||10,m=u.initialValue||c,b=this.getAttribute("data-show-segments"),w=this.getAttribute("data-custom-segments")==="true",E=w?JSON.parse(this.getAttribute("data-segment-values")||"[]"):[],L=this.getAttribute("status")==="disabled",f=this.getAttribute("type")||"range",_=this.id,v=m,S=!1,K=dt(_);K!==null&&(v=K);function y(s){return s.toFixed(2).replace(/\.?0+$/,"")}o(y,"formatIntegerValue");function rt(s){return s.toFixed(2)}o(rt,"formatDecimalValue");function j(s){r.style.left=s+"%",n.style.width=s+"%"}o(j,"updateHandle");function G(s){if(f==="set"){let d=Math.round(s/(100/p)),g=w?E[d]:c+d*(h-c)/p;i.textContent=w?g.toString():y(g)}else s===0||s===100?i.textContent=y(U(s)):i.textContent=rt(U(s))}o(G,"updateTooltip");function k(s){return(s-c)/(h-c)*100}o(k,"calculatePosition");function U(s){return s*(h-c)/100+c}o(U,"calculateValue");function Z(s){j(s),G(s),ct();let d=new CustomEvent("slider-value-change",{bubbles:!0,cancelable:!0});e.dispatchEvent(d)}o(Z,"changeValue");function M(s){v=s*(h-c)/100+c,Z(s)}o(M,"setSliderValue");function Q(s){let d=Math.round(s/(100/p)),g=d*(100/p);v=c+d*(h-c)/p,Z(g)}o(Q,"snapToSegment");function dt(s){let d=JSON.parse(localStorage.getItem("slider_value")||"{}");return d[s]!==void 0?d[s]:null}o(dt,"getSliderValue");function ct(){let s=JSON.parse(localStorage.getItem("slider_value")||"{}");s[_]=v,localStorage.setItem("slider_value",JSON.stringify(s))}if(o(ct,"saveSliderValue"),j(k(v)),G(k(v)),f==="range"){if(b===null||b==="true"){let s=document.createElement("div");s.classList.add("slider_value_info"),s.textContent=y(c),s.style.position="absolute",s.style.bottom="-35px",e.appendChild(s);let d=s.offsetWidth;s.style.left=`calc(0% - ${d/2}px)`;let g=document.createElement("div");g.classList.add("slider_value_info"),g.textContent=y(h),g.style.position="absolute",g.style.bottom="-35px",e.appendChild(g);let T=g.offsetWidth;g.style.left=`calc(100% - ${T/2}px)`}}else if(f==="set")for(let s=0;s<=p;s++){if(s>0&&s<p){let d=document.createElement("div");d.classList.add("slider_segment"),d.style.left=`calc(${s/p*100}% - 1px)`,e.appendChild(d)}if(b==="true"){let d=document.createElement("div"),g=w?E[s]:c+s*(h-c)/p;d.classList.add("slider_value_info"),d.textContent=w?g.toString():y(g),d.style.position="absolute",d.style.bottom="-35px",e.appendChild(d);let T=d.offsetWidth;d.style.left=`calc(${s/p*100}% - ${T/2}px)`}}if(L){r.classList.add("disabled_slider"),e.classList.add("disabled_slider");return}let tt=o(s=>{n.style.transition="none",r.style.transition="none",S=!0,s.preventDefault(),C(s)},"startDrag"),et=o(()=>{setTimeout(()=>{S=!1},0),n.style.transition="width 100ms linear",r.style.transition="left 100ms linear"},"stopDrag"),C=o(s=>{setTimeout(()=>{if(!S)return;let d=it(s);M(d)},0)},"updatePosition"),it=o(s=>{let d=e.getBoundingClientRect(),g;return"touches"in s&&s.touches&&s.touches.length>0?g=(s.touches[0].clientX-d.left)/d.width*100:"changedTouches"in s&&s.changedTouches&&s.changedTouches.length>0?g=(s.changedTouches[0].clientX-d.left)/d.width*100:"clientX"in s?g=(s.clientX-d.left)/d.width*100:g=0,Math.max(0,Math.min(g,100))},"currentPosition");r.addEventListener("mousedown",tt),r.addEventListener("touchstart",tt),window.addEventListener("mousemove",C),window.addEventListener("touchmove",C),window.addEventListener("mouseup",et),window.addEventListener("touchend",et),t.addEventListener("click",s=>{if(S)return;let d=it(s);f==="set"?Q(d):M(d)}),r.addEventListener("keydown",s=>{let d=u.step||1;if(s.key==="ArrowLeft"||s.key==="ArrowUp"||s.key==="ArrowRight"||s.key==="ArrowDown")if(s.preventDefault(),f==="set"){let g=Math.round((v-c)/(h-c)*p);s.key==="ArrowLeft"?g=Math.max(0,g-1):s.key==="ArrowUp"?g=p:s.key==="ArrowRight"?g=Math.min(p,g+1):s.key==="ArrowDown"&&(g=0),v=c+g*(h-c)/p;let T=g/p*100;Q(T)}else{s.key==="ArrowLeft"?v=Math.max(c,v-d):s.key==="ArrowUp"?v=h:s.key==="ArrowRight"?v=Math.min(h,v+d):s.key==="ArrowDown"&&(v=c);let g=k(v);M(g)}})}};o(J,"CustomSlider");var z=J;customElements.define("custom-slider",z);var Y=class Y extends HTMLElement{constructor(){super();this.beforeToggle=null;this.isSwitchOn=!1;this.isSwitchDisabled=!1;this.startX=0;this.isDragging=!1;this.render()}static get observedAttributes(){return["active","status"]}attributeChangedCallback(){this.updateRender(),setTimeout(()=>window.updateFocusableElements?.(),10)}render(){let t=this.getAttribute("status")||"disabled";this.isSwitchDisabled=t!=="enabled",this.isSwitchOn=this.getSwitchValue()==="on",this.innerHTML=`
      <div class="switch_content">
        <div class="switch ${this.isSwitchOn?"on":"off"} ${this.isSwitchDisabled?"disabled_switch":"normal_switch"}">
          <div class="switch_style left"></div>
          <div class="switch_style right"></div>
          <div class="switch_slider can_click"></div>
        </div>
      </div>
    `,this.bindEvents()}updateRender(){this.isSwitchOn=this.getSwitchValue()==="on",this.isSwitchDisabled=this.getAttribute("status")!=="enabled";let t=this.querySelector(".switch");t&&(t.classList.toggle("on",this.isSwitchOn),t.classList.toggle("off",!this.isSwitchOn),t.classList.toggle("disabled_switch",this.isSwitchDisabled),t.classList.toggle("normal_switch",!this.isSwitchDisabled))}shouldAllowToggle(){return typeof this.beforeToggle=="function"&&!this.beforeToggle(this)?(this.dispatchEvent(new CustomEvent("switch-toggle-blocked",{bubbles:!0,detail:{switchId:this.id}})),!1):!0}bindEvents(){let t=this.querySelector(".switch"),i=this.querySelector(".switch_slider");if(!this.isSwitchDisabled&&t&&i){let e=o(h=>{this.isDragging=!1,i.classList.add("active"),this.startX="clientX"in h?h.clientX:h.touches[0].clientX},"handlePointerDown"),n=o(h=>{h.preventDefault();let m=("clientX"in h?h.clientX:h.changedTouches[0].clientX)-this.startX;this.isDragging=m>10||m<-10},"handlePointerMove"),r=o(h=>{if(this.isDragging){let m=("clientX"in h?h.clientX:h.changedTouches[0].clientX)-this.startX,b=m>10?!0:m<-10?!1:this.isSwitchOn;if(b!==this.isSwitchOn){if(!this.shouldAllowToggle()){this.isDragging=!1,i.classList.remove("active");return}this.isSwitchOn=b,this.updateSwitchState(this.isSwitchOn)}}setTimeout(()=>{this.isDragging=!1,i.classList.remove("active")},0)},"handlePointerUp"),u=o(()=>{if(!this.isDragging){if(!this.shouldAllowToggle())return;this.isSwitchOn=!this.isSwitchOn,this.updateSwitchState(this.isSwitchOn)}},"handleClick"),c=this.parentElement?.parentElement;c&&c.addEventListener("click",u),t.addEventListener("mousedown",e),t.addEventListener("touchstart",e),t.addEventListener("mousemove",n),t.addEventListener("touchmove",n),document.addEventListener("mouseup",r),document.addEventListener("touchend",r)}}updateSwitchState(t){this.setAttribute("active",t?"on":"off");let i=this.querySelector(".switch"),e=this.querySelector(".switch_slider");i?.classList.toggle("on",t),i?.classList.toggle("off",!t);let n=JSON.parse(localStorage.getItem("switch_value")||"{}");n[this.id]=t?"on":"off",localStorage.setItem("switch_value",JSON.stringify(n)),e&&(t?(e.classList.add("switch_bounce_left"),e.classList.remove("switch_bounce_right")):(e.classList.add("switch_bounce_right"),e.classList.remove("switch_bounce_left"))),this.updateRender();let r=new CustomEvent("switch-value-change",{bubbles:!0,cancelable:!0});this.dispatchEvent(r)}getSwitchValue(){let t=JSON.parse(localStorage.getItem("switch_value")||"{}");return this.id in t?t[this.id]:this.getAttribute("active")||"off"}};o(Y,"CustomSwitch");var X=Y;customElements.define("custom-switch",X);var W=class W extends HTMLElement{constructor(){super();this.inputField=null;this.hint=null;this.isComposing=!1;let t=this.getAttribute("type")||"text",i=this.getAttribute("single-line")||"true",e=parseInt(this.getAttribute("max-length")||"0")||null;this.inputField=document.createElement("textarea"),this.inputField.classList.add("input"),this.inputField.rows=1,this.appendChild(this.inputField),this.hint=document.createElement("div"),this.hint.classList.add("hint"),this.hint.textContent=this.getAttribute("hint")||"",this.appendChild(this.hint),i==="true"&&this.inputField.addEventListener("keypress",n=>{n.key==="Enter"&&n.preventDefault()}),this.inputField.addEventListener("focus",()=>{this.hint&&(this.hint.style.opacity="0")}),this.inputField.addEventListener("blur",()=>{this.updateHint()}),this.inputField.addEventListener("compositionstart",()=>{this.isComposing=!0}),this.inputField.addEventListener("compositionend",()=>{this.isComposing=!1,setTimeout(()=>{this.validateLength(e);let n=this.inputField?.value||"",{isValid:r,filtered:u}=this.isValidAndFilterInput(n,t);if(!r&&this.inputField){this.inputField.value=u;let c=new CustomEvent("textfield-invalid-input",{bubbles:!0,cancelable:!0});this.dispatchEvent(c);return}this.saveTextFieldValue()},0)}),this.inputField.addEventListener("beforeinput",n=>{if(!this.isComposing&&n.data){let{isValid:r}=this.isValidAndFilterInput(n.data,t);if(!r){n.preventDefault();let u=new CustomEvent("textfield-invalid-input",{bubbles:!0,cancelable:!0});this.dispatchEvent(u)}}}),this.inputField.addEventListener("input",()=>{if(!this.isComposing&&(this.validateLength(e),this.updateTextField(),this.inputField)){let{isValid:n}=this.isValidAndFilterInput(this.inputField.value,t);if(n){this.saveTextFieldValue();let r=new CustomEvent("textfield-value-change",{bubbles:!0,cancelable:!0});this.dispatchEvent(r)}}})}static get observedAttributes(){return["status"]}connectedCallback(){this.parentNode&&"id"in this.parentNode&&this.parentNode.id&&this.classList.add(this.parentNode.id),this.getTextFieldValue(),requestAnimationFrame(()=>{this.updateTextField()}),this.hasAttribute("status")&&(this.classList.toggle("disabled_text_field",this.getAttribute("status")==="disabled"),this.inputField&&(this.inputField.disabled=this.getAttribute("status")==="disabled"))}validateLength(t){if(!this.inputField)return;let i=this.inputField.value,e=i.length;t!==null&&e>t&&(this.inputField.value=i.substring(0,t))}attributeChangedCallback(t,i,e){if(t==="status"){let n=e==="disabled";this.classList.toggle("disabled_text_field",n),this.inputField&&(this.inputField.disabled=n,this.updateHint())}setTimeout(()=>window.updateFocusableElements?.(),10)}updateTextField(){this.updateHint(),this.autoResize()}updateHint(){if(!this.inputField||!this.hint)return;let t=this.inputField.value,i=document.activeElement?.isSameNode(this.inputField),e=this.inputField.disabled;t.length===0&&(!i||e)?this.hint.style.opacity="1":this.hint.style.opacity="0"}autoResize(){if(!this.inputField)return;this.inputField.style.height="auto";let t=this.inputField.scrollHeight,i=getComputedStyle(this.inputField),e=0;i.minHeight&&i.minHeight.endsWith("px")&&(e=parseFloat(i.minHeight));let n=Math.max(e,40),r=Math.max(t,n);this.inputField.style.height=r+"px",this.style.height=r+"px",V()}isValidAndFilterInput(t,i){if(i==="text"||i==="all"||!i)return{isValid:!0,filtered:t===null?"":t};if(!t&&t!=="")return{isValid:!0,filtered:t===null?"":t};let e,n;switch(i){case"number":e=/^[0-9]*$/,n=t.replace(/[^0-9]/g,"");break;case"letter":e=/^[a-zA-Z]*$/,n=t.replace(/[^a-zA-Z]/g,"");break;case"operator":e=/^[`!@#$%^&*()\-_=+[\]{};':"\\|,.<>/?~]*$/,n=t.replace(/[^`!@#$%^&*()\-_=+[\]{};':"\\|,.<>/?~]/g,"");break;case"base":e=/^[0-9a-zA-Z `!@#$%^&*()\-_=+[\]{};':"\\|,.<>/?~]*$/,n=t.replace(/[^0-9a-zA-Z `!@#$%^&*()\-_=+[\]{};':"\\|,.<>/?~]/g,"");break;case"none":return{isValid:t.length===0,filtered:""};default:return{isValid:!0,filtered:t}}return{isValid:e.test(t),filtered:n}}getValue(){return this.inputField?.value||""}resetValue(){this.inputField&&(this.inputField.value="",this.updateTextField(),this.saveTextFieldValue())}saveTextFieldValue(){let t="text_field_value",i={};try{i=JSON.parse(localStorage.getItem(t)||"{}")}catch{}if(!this.inputField)return;let e=this.inputField.value;if(this.parentElement?.classList.contains("do_not_save"))return;let n=this.classList[0];if(!(typeof n!="string"||n.trim()==="")){e.length===0?delete i[n]:i[n]=e;try{localStorage.setItem(t,JSON.stringify(i))}catch{}}}getTextFieldValue(){let t="text_field_value",i={};try{i=JSON.parse(localStorage.getItem(t)||"{}")}catch{}let e=this.classList[0];if(typeof e!="string"||e.trim()===""){this.inputField&&(this.inputField.value="");return}this.inputField&&(this.inputField.value=i[e]||"")}};o(W,"TextField");var B=W;customElements.define("text-field",B);export{D as CustomButton,O as CustomCheckbox,N as CustomDropdown,R as CustomRadio,z as CustomSlider,X as CustomSwitch,$ as DisplaySidebar,B as TextField,V as getMainHandleScroll,It as hideModal,ut as ifNavigating,wt as launchApplication,ft as openLink,yt as scrollToTop,Rt as showModal,Tt as toTop};
